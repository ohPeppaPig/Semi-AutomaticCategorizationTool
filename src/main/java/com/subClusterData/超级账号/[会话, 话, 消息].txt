乐高: 对象Creator 系列 甲壳虫 10252 1167片          分类小结使用简单的编号分类根据形态不同分类根据不同的形状以及颜色进行分类使用四色原理建构使用高精度的图例表示
任务会话表现形式: 任务会话表现形式高层设计：任务会话为群聊，但收敛于一对一会话的集合内。具体需求：一、会话列表表现形式会话单聊中设置抽屉概念抽屉是任务会话的集合，当单聊双方有进行中的任务关系时显示抽屉任务创建者与任务执行者任务创建者创建任务后，产生任务会话，该会话进入创建者和执行者单聊的抽屉中通过抽屉进行任务会话的切换任务参与者任务会话进入参与者会话列表遵循谁拉谁负责的原则，即任务会话会进入某个任务参与者与拉其进入任务的用户的单聊中例：产品总监 徐总 给 产品研发 黄璜 创建了任务A，则任务A的会话进入产品总监 徐总与产品研发 黄璜的单聊的抽屉中产品研发 黄璜将 产品研发 ZMZ添加为任务A的参与者，则任务A的会话进入产品研发 黄璜 和 产品研发 ZMZ的单聊的抽屉中，但不进入产品总监 徐总与产品研发 ZMZ的单聊的抽屉中产品研发 ZMZ将后端工程师 HH添加为任务参与者，则任务A的会话进入产品研发 ZMZ与后端工程师 HH的单聊的抽屉中，但不进入与其他人的单聊的抽屉中二、消息显示模式消息在关联的双方的单聊中新消息只推送给消息中@的用户没有@的时候，推送给关联用户，即上下游其他用户可以在会话中查看历史消息例：产品研发 黄璜在任务A的会话中@后端工程师 HH，则消息只推送给后端工程师 HH产品研发 黄璜在任务A中不使用@，则消息只推送给产品总监 徐总和产品研发 ZMZ三、任务卡片会话任务卡片变为
会话列表改版: 会话列表改版总体思路：基于按时间排序对事务、发布、任务、服务与审批会话进行拆分和聚合设计图【会话分类】会话分为：全部会话、个人会话、事务会话、任务会话、发布会话、服务会话、审批会话，在会话列表页可以切换。切换底部tab与关闭应用，保留上一次切换后的会话分类 【会话聚合】对事务会话、发布会话和服务会话进行聚合【聚合前使用现有的三行会话列表形式，分类内容为聚合的全部会话】同一事务内的事务默认群聊、事务自定义群聊、事务单聊聚合到一个卡片上，如果一个聚合的会话内只有一个具体的会话，则点击聚合会话进入具体的会话，如果一个聚合的会话内有多个具体的会话，点击聚合的会话进入选择这个聚合会话的列表  聚合后的会话计数为点开后所有会话的计数之和（消息免打扰不计入计数）会话名称 【会话分类】任务会话[移动端] 任务会话集成任务卡片与会话内容点击卡片后进入任务会话页面 【会话分类】审批会话审批会话列表【会话分类】个人会话个人会话为用户个人盟与其他用户/角色的会话列表【会话分类】新消息提醒机制【会话分类】无论在哪一个会话分类下，所有新未读消息按照时间排序出现在会话列表中【会话分类】阅读完未读消息后该会话如果不是该分类下的会话，则移除【会话聚合】新消息如果是事务、发布、服务等会话，则以聚合会话的形式提醒例如：在任务会话页面，可以收到「2020年2月21日产品例会」发布会话中的新消息，处理之前，「2020年2月21日产品例会」按时间排列在任务会话列表中，处理完后，该会话从任务会话中移除【会话聚合】消息推送机制事务、发布、服务会话以聚合消息进行提醒【会话聚合&分类】会话置顶【会话分类】会话置顶在全部页面和会话相关页面生效例如：在全部页面置顶「任务1」会话，则「任务1」会话在任务页面也置顶【会话聚合】聚合会话内部的置顶会话只在聚合页面生效，不影响聚合会话在全部会话列表中置顶与否「2020.2.28」手机应用图标右上角提醒数量从「待办数量」改为「会话未读数量」
会话系统v1.3: 更新记录 一、目的此文档汇总近期各渠道反映的会话使用问题，形成可开发的更新方案；此文档涉及到三端不同的更新功能、以及部分交互细节；开发以这份文档为依据进行升级版本的开发，测试相应的以这份文档做测试用例的编写；二、功能需求1.最近会话列表可选择排序方式；涉及平台：三端；需求描述：1、切换排序方式：用户在会话首页点击切换按钮，出现下拉列表，从上往下为“按事务分组、按盟分组、按时间排序”，默认为按事务分组；按时间排序时，单聊和群聊有头像显示；其余两种没有头像；置顶某条会话之后，若当前会话列表的排序方式为“按事务分组”和“按盟分组”，则会话要表明来自哪个事务或盟；2、置顶会话：置顶方法：移动端可以左滑置顶单条会话，web端可以在设置菜单里置顶单条会话；置顶后的显示：置顶的会话会单独成一组在会话列表最上面，排序方式的切换不影响置顶会话的显示；3、排序规则：去掉会话列表中的置顶和主页事务分组按事务分组和按盟分组：按照每个组别下最新一条会话的时间进行组别的排序；按时间排序：按照最近一条会话的时间进行所有会话的排序；+ 按照事务/盟分组，事务/盟的排序（诚信圈）4、会话名称显示规则： 补充说明：1、会话置顶时，置顶分组的会话名称以按时间排序的显示规则显示。2、会话名称过长时，优先显示群聊名称，在最后添加省略号。例：产品部第123456789周周会杂项讨论（思目创意）的省略显示为：产品部第123456789周周会杂...或产品部第123456789周周会杂项讨论...或产品部第123456789周周会杂项讨论（思目...3、当以多个角色与同一角色单聊发起单聊的时候，需要增加“（与我的哪个角色）”的后缀来区分不同单聊；「2020.2.10」进入会话详情后，不显示括号中内容。例：我用张瑞的个人盟角色，和“产品部-产品研发”两个角色，同时和周顶顶的个人盟角色发生单聊，则在会话列表中，会显示为： 设计稿：web端设计稿：链接移动端设计稿：链接2.发送图片视频和文件需求描述：1、会话发送照片时，可以同时选择本地视频发送。可选择的视频+照片的总数<=9；2、移动端会话发送文件选择本地文件时：iOS调用本地的“文件”，Android调用本地的“文件管理器”，一次只能发送一个文件；涉及平台：移动端； 3.移动端拍摄可同时拍摄视频；需求描述：移动端会话选择拍摄的时候，单击拍摄按钮是拍照，长按拍摄按钮是拍视频，视频长度<=15s，超过15s之后自动结束拍摄，用户自行选择是否发送；涉及平台：移动端； 视觉稿链接：https://lanhuapp.com/url/PdmLl  补充说明：1、采用方案一还是方案二，由开发决定；4.会话支持本地缓存和清空应用场景：1、本地缓存：会话列表加载速度优化，无网状态下可以查看最近会话列表；2、清空缓存：引入会话数据本地化存储之后，为避免app占用用户手机太多存储空间，给用户提供清楚本地缓存的功能；涉及平台：三端；后置条件：清除缓存之后，用户再次进入最近会话列表，会重新开始缓存最近一个月的数据；需求描述：移动端用户第一次登录账号，系统获取会话列表最近一个月的数据，加载在页面上展示，同时复制一份保留在系统本地，用作下次进入会话列表的默认展示数据；会话列表有新的消息，会自动更新本地的会话数据缓存；用户浏览过新的历史消息，会自动更新本地的会话数据缓存；用户下一次进入系统，会首先展示系统本地的会话数据，同时向服务器请求拉取最新数据，拉取完成后刷新会话列表；补充说明：1、本地保存数据的范围：当前用户的最近会话列表的全部最新数据（会话标题、最新一条消息及时间、未读消息数、草稿、是否免打扰；当前用户加载过的本地会话聊天记录，以累积的方式保存在本地；第一次默认加载最近一个月的缓存；2、搜索时，从云端拉取数据，搜索的结果不纳入本地缓存；3、清空缓存的范围：系统中本地缓存的所有会话记录，所有图片，事务列表（暂定）；设计稿：链接5.单聊显示在双方事务下场景：A角色属于事务1，B角色属于事务2；A角色在事务1找到B角色，并发起单聊，A看到的单聊在事务1下面，B看到的单聊在事务2下面；B角色在事务2找到A角色，并发起单聊，A看到的单聊在事务1下面，B看到的单聊在事务2下面；补充说明： 三、非功能性需求移动端会话支持本地缓存；会话消息的发送和接收应该足够稳定；会话消息三端未读数需要保持统一；需求描述：会话重试时间 3s会话重试超时时间 5s心跳间隔时间  ios20s Android3s 待定心跳间隔超时时间 待定补充说明：超时时间可采用阶梯方案；对目前的影响：系统会自动重发失败的消息，不需要用户手动触发；见会话消息发送中和发送失败的用户提示四、参考资料confluence：  会话系统超级账号：发布交互及左侧会话列表优化 
任务卡片、详情、会话调整: 任务调整任务状态机红色线为任务创建者操作蓝色线为任务执行者操作紫色线为双方操作 任务卡片 任务详情创建任务任务内容：文字，移动端可以录入语音单聊或者角色入口创建任务自动填充执行人；群聊入口执行人默认为“待认领”显示全部可以展开设置任务细节重复周期默认为“从不重复”可选择：每天，每周，每月，工作日，自定义自定义可以选择每周几重复 其他状态的任务详情在会话中查看任务会话中默认收起任务卡片任务卡片可以展开创建者可以编辑任务 任务过程记录记录任务状态机中每一次状态转换的主体（用户）、操作和时间未完成任务显示现在的状态记录接收任务的时长、截止日期、任务完成的时长 
发布交互及左侧会话列表优化: web端：发布1.菜单修改（1）发布的菜单改为TAB页形式，有【发布详情】、【任务】、【子发布】、【动态】，【时间管理】在同行右侧，图标显示。（2）【历史版本】菜单移到更新时间旁边箭头。（3）【评论】跟在发布详情的下面。2.会话（1）最近会话在会话缩略模式（图1）下左侧展示的是最近会话列表，最近会话列表同现有逻辑。最近会话点列表小图标切换到详细模式。（2）详细模式（图2）右侧展示【最近会话】和【参与者】两个菜单。（3）【参与者】分为官方，客方和关注者，按照现有方式归集。【参与者】添加客方和官方的方式见设计图。（4）【最近会话】按照现有方式归集。（5）逻辑改动：原为一个关注者和所有官方会话，现改为所有关注者和所有官方在一个群组。左侧列表1.更新会话列表规则如下：   a.所有会话会归纳到其所属的事务中，即对列表中的会话按照事务进行分组   b.事务组可以展开和收起，展开时会显示事务下所有出现过的、未被从列表中删除的会话，在事务组内部：会话按照最新消息进行排序，且可以对会话进行置顶（和之前的会话列表规则一致）收起时，如果该事务组有新的会话，会话会从事务组中单独列出，此时事务组仍然是收起状态。在刷新页面、切换左侧列表tab后，会将所有单独列出的且没有未读消息的会话会重新收纳到事务组中   c.事务组根据事务列表中的置顶情况来决定是否置顶，未置顶的事务组按照事务组中的最新会话进行排序，置顶的事务按照置顶顺序固定排序   d.如果一个事务组内没有新的会话，则会在外显示出一条最新的会话2.默认展开的是有新消息的会话，点击展开，展开的是该事务下无新消息的所有会话（不是一次加载10条，设计图的备注错了）。移动端视觉：https://lanhuapp.com/web/#/item/board?pid=bdcd16d7-ae8f-4a8d-8e06-b3d14e4253ee   视觉：  搜“资源供给发布详情”          ------------------------------------2018年12月20日会议遗留问题记录1.会话上的（来自：XXX发布）是否可以去除？   --待设计确认2.免打扰状态下发生会话、和@时的视觉效果：      免打扰会话有非@的新消息            1.如果该会话所属事务不在会话列表中，则该会话也不会出现在会话列表中            2.如果该会话所属事务在会话列表中，且处于展开状态，屏蔽的会话的非@消息不会引起任何排序上的变化            3.如果该会话所属事务在会话列表中，且处于收起状态，                     如果该事务组没有非屏蔽的会话，则会在外侧显示最近的有新消息的会话      免打扰会话如果有@信息时，全部按照非屏蔽会话有新消息的状况来处理；且在未读时一直保持【有人@我】的标记3.任务会话自动屏蔽功能：http://192.168.1.200:18090/pages/viewpage.action?pageId=21956210   任务会话归入会话的视觉待补充4.发布的来源和父事务的修改：     如果是协作发布，需要显示：“所属事务：XX事务”，如果不是本盟的事务，则需要添加盟名称，“XX盟-XX事务”，名称可点击跳转至事务首页（XX盟-XX事务为一个整体，跳转到事务，如果是根事务，只要显示盟名称）     如果发布属于某个目标，此时，需要判断目标的可见性问题，如果用户可见其所属的目标，则发布会显示“从属目标：XXXXX”，如果不是本事务的目标，需要显示“事务名 目标名“其他问题：左侧会话点击未读后排序更新问题和子事务溯源父事务的问题已列入迭代的问题计划
任务模块治理: 任务模块一、 任务模块概览 二、 任务的状态1. 任务状态机 2. 创建任务2.1. 创建任务可选位置：事务、目标、发布、服务（申请服务自动创建任务）、会话、我的同事列表/详情页n 从事务、目标、发布、服务创建的任务挂载在该事务、目标、发布、服务n 从会话、我的同事列表/详情页创建的任务挂载在任务发起人所在的事务下2.2. 创建任务填写，服务中的任务节点相关内容由服务填入：n 任务内容*：必填项，可填入的类型为文字/语音n 任务发起人#：回填项，创建任务后回填n 任务执行者#：在单聊/联系人列表中为回填项，群聊/盟客世界为选填项，默认为空n 截止时间：选填项，默认为“尽快完成”n 重复周期：选填项，默认为“从不”，选项为“每天”、“每周”、“工作日”、“自定义”n 参与者：选填项，默认为空 3. 认领任务3.1. 指定任务执行者的任务无需认领，无执行者的任务认领后进入认领人的工作包，任务执行者变为该认领用户3.2. 无执行者任务，任务发起者可以指定任务执行者4. 完成任务4.1. 收到/认领任务任务进入工作包，进入等待状态4.2. 工作包中可以选中今日完成的任务，相关任务进入等待状态4.3. 可以选择一个任务成为进行中任务，相关任务同时标记为今日执行4.4. 完成任务流程图 5. 取消任务5.1. 任务可以在待认领、等待中、进行中被取消5.2. 盟客世界取消任务需要双向同意，超级账号只能由任务发起者取消任务5.3. 取消任务流程图 6. 更换执行者6.1. 等待中的任务可以由任务发起者更换执行者6.2. 更换执行者流程图 7. 任务恢复7.1. 任务发起者可以恢复已取消、已完成的任务7.2. 恢复的任务进入原执行者的工作包8. 任务度量8.1. 反馈用时：指定执行者的任务反馈用时为「执行者回复第一条信息时间-指定执行者的时间」，未指定执行者的任务反馈用时为「认领时间-任务发起时间」8.2. 任务用时：任务处于进行中时，任务用时读表8.3. 记录用户每一次操作的时间9. 权限穿透9.1. 任务发起者所在公司/事务高权限可穿透发起者可进行操作9.2. 任务执行者所在公司/事务高权限可穿透执行者可进行操作9.3. 权限穿透状态机 三、 任务的表现形式1. 挂载位置与表现形式 2. 任务卡片2.1. 任务卡片为任务的基本表现形式2.2. 任务卡片内容：来源/去向，标记位，任务内容，任务状态，可执行操作，最新一条会话n 来源/去向：如果涉及用户，则显示为「来自XX的任务」或「发给XX的任务」；如果不涉及用户，则显示为「XX发给XX的任务」n 任务执行者显示标志位，今日完成/其他任务n 任务内容显示1行n 任务状态包含该状态下存在的度量n 操作区域包括用户在此状态下可以对任务进行的操作n 最新一条会话点击后可以进行快速回复 2.2.1. 不同状态下任务卡片操作区域n 待认领：发起者（取消）、其他（认领）n 等待中：发起者（完成）、执行者（开始）n 进行中：发起者（完成）、执行者（提交）n 审阅中：发起者（同意、拒绝）n 已完成：发起者（恢复）n 发起者申请的取消中：执行者（同意、拒绝）n 执行者申请的取消中：发起者（同意、拒绝）n 已取消：发起者（恢复）2.3. 点击任务卡片后，进入任务会话详情进行查看n 可以查看任务中的所有会话n 可以发送消息，如果没有@对象，则消息推送给关联用户，即上下游3. 任务会话详情3.1. 任务会话详情包括：任务详情、任务会话历史消息3.2. 可以在任务会话详情中进任务操作与会话3.3. 任务会话详情样式n 顶部「From 挂载位置」n 会话内容上方固定任务卡片，任务卡片可以展开详情，详情包括历史操作记录n 任务卡片下方为任务中的所有历史会话，其中周期性任务或重启任务用分割线标记上次完成/取消时间 4. 抽屉4.1. 抽屉的基本原则4.1.1. 任务在全部会话中聚合为抽屉，收敛于单聊之中，当单聊双方有进行中的任务关系时显示抽屉4.1.2. 任务创建者创建任务后，产生任务会话，该会话进入创建者和执行者单聊的抽屉中4.1.3. 任务会话进入参与者会话列表遵循谁拉谁负责的原则，即任务会话会进入某个任务参与者与拉其进入任务的用户的单聊中4.1.4. 任务进行编号，每一对关系中任务编号双方所见一致4.1.5. 点击任务卡片后，单聊会话内变为该任务的上下文，任务卡片在会话页面置顶，可以展开详情。4.2. 抽屉的会话模式4.2.1. 消息在关联的双方的单聊中，会话列表显示 [任务1] XX：用户消息4.2.2. 新消息只推送给消息中@的用户，没有@的时候，推送给关联用户，即上下游，其他用户可以在会话中查看历史消息4.2.3. 单聊的未读消息为抽屉中所有未读计数只和4.2.4. 会话包//阻塞*思想：不同会话组合以会话包的形式出现尝试：微信批量转发会话模式，动态更新每一个会话包内的会话消息4.3. 抽屉样式 5. 列表视图5.1. 列表视图包括了任务的发起者、任务内容、任务执行者、任务开始时间、任务的状态5.2. 列表视图可以根据任务发起者、任务执行者、任务开始时间、任务截止时间、任务最近更新时间排序5.3. 任务状态、任务发起者、任务执行者、任务开始时间可筛选6. 发布视图6.1. 发布视图以发布为单位对任务进行聚合6.2. 发布视图使用任务卡片7. 角色统计视图7.1. 事务、目标、发布下的统计视图n 角色统计视图对任务执行者的任务进行统计n 度量内容：等待中任务数、进行中任务数、已取消任务数、已完成任务数、合计n 角色统计视图可以根据时间、任务发起人筛选7.2. 会话下的统计视图n 今日完成任务的统计：总体完成情况（百分比），每一个任务来源的完成情况（百分比、任务用时）n 全部任务的统计：每一个任务来源的完成情况（等待中任务数、进行中任务数、已取消任务数、已完成任务数、合计） 8. 看板视图8.1. 看板视图以任务所属阶段对任务进行聚合，任务阶段由用户自定义用户场景：发起任务场景：1、用户A从通讯录中找到B（通讯录），派给B任务a，然后进入任务a上下文与B交流（单聊会话->抽屉->任务卡片）；聊天的同时发现需要B同时进行任务b（单聊会话），在会话中给B创建任务b，并切换到任务b的上下文。 2、用户A在群里X中发起了任务c（群聊界面），无执行者；用户C看到后领取了任务c，并进入任务c的上下文与A交流；交流后，A认为B是完成任务的更好人选，于是修改任务c的相关内容，将任务c指派给B，然后进入任务c的上下文与B交流。 4、用户A在浏览发布Y的时候，在发布Y中中发起任务d，并指派给用户B，然后进入任务d的上下文与B交流执行任务场景：1、用户B从推送中收到用户A给其创建的任务a，进入任务a的上下文与A交流，会话过程中接到用户A创建的任务b，进入任务b上下文与A交流后发现任务b需要今日完成，标记为进入完成后，开始执行任务b（推送->任务a上下文单聊会话->抽屉->任务b上下文单聊会话->任务b操作），B完成任务后提交任务给A审阅，审阅同意后任务完成并存档。2、用户C从群聊中发现A创建的无执行者任务c，领取任务后进入任务c上下文与A交流，交流后C发现用户B更合适执行此任务，于是建议A把执行者修改为B，修改后C变为参与者，继续在任务c上下文与A交流（群聊->任务c上下文单聊会话，可操作任务->任务c上下文单聊会话，不可操作任务） 参与任务场景（参与者主要通过会话部分参与任务）：1、用户C在任务c上下文中与发起者A交流后，A将任务c的执行者调整为B，用户C变为任务c的参与者2、用户B在执行用户A创建的任务a的过程中发现需要用户C的参与，将用户C加入到了任务a的参与者中；用户C收到参与任务的信息（系统消息），点开后进入任务a的上下文，浏览了A和B的交流记录后，与B交流需要自己负责的内容3、高权限用户C在浏览事务任务的时候，发现任务b与自己负责的某一块内容相关，于是点开任务b，查看任务b的上下文和其中的会话记录，然后进入会话成为任务b的参与者，与任务发起者A进行交流任务会话场景（任务d：发起者A，执行者B，发起者A添加的参与者C，执行者B添加的参与者D，参与者C添加的参与者E，自己加入的参与者F）：A查看任务d的进度，在与B的单聊会话中通过抽屉切换到任务d的上下文，查看AC、BD、CE、AF的会话历史，BD的会话历史正在动态更新（B、D在聊天），查看完之后，A在会话中无指向性的发表会话「sentence1」，B、C、F收到sentence1的未读提醒，A发表指向性（使用@）会话「sentence2」，@了参与者C，B、C收到sentence2的未读提醒
【需求更新】会话系统升级 v1.2: 3.26更新：统一移动端编辑会话角色的入口为编辑角色；设计稿：https://lanhuapp.com/url/1OksE发布会话中的自定义群聊增加“来源”字段；需求文档：http://192.168.1.200:18090/pages/viewpage.action?pageId=29721176#id-%E4%BC%9A%E8%AF%9D%E7%B3%BB%E7%BB%9F1.2-14.%E5%8F%91%E5%B8%83%E4%BC%9A%E8%AF%9D%E9%BB%98%E8%AE%A4%E5%88%9B%E5%BB%BA%E7%BE%A4%E8%81%8A%E5%90%8D%E7%A7%B0%E8%A7%84%E5%88%993.20更新：统一web端事务自定义会话和发布自定义会话的编辑群聊的入口和交互；设计稿：  发布会话：https://lanhuapp.com/url/eIU12  ；事务会话：https://lanhuapp.com/url/4HaEF 3.12更新：更新移动端会话相关的设计图中，发布会话中创建自定义群聊的官客方所见的界面；  3.4更新：更新会话消息新老版本不兼容的消息发送处理情况；更新会话里任务卡片的状态和设计；角色显示问题，此次迭代先实现：会话界面的消息发送角色、会话成员列表、@列表界面、事务通讯录，以上更新为角色最新显示规则；角色显示问题，暂时保持原状：会话列表最新消息的发送角色、会话中系统消息涉及到的角色、文本消息中@的角色；2.21更新：更新审批会话的系统通知内容，见   2.20更新：增加并更新了会话相关中11张相关设计图；将会话群聊标题中的人数去掉转移到会话成员列表中；增加了无担任者的设计图以及说明；会话中搜索文字消息样式的设计图更新；2.18更新：开发评审后，修改了以下内容：编辑图片中，添加文字的设计稿；退出编辑图片，增加二次确认的设计稿；会话中未读消息优先渲染第一条未读消息的快捷跳转提示框；移动端长按图片增加扫描二维码的功能；（延期）会话中单击头像发起单聊；（延期）会话资源提醒强化；功能说明：2.1 功能需求1.会话详情中显示未读消息条数2.查看图片3.编辑图片4.转发图片/文件5.会话里发起任务6.搜索跳转到对应历史记录7.会话列表搜索结果展示规则8.事务/发布会话成员列表分组9.移动端@列表增加排序和搜索10.web端会话消息操作右键重载2.2非功能性需求11.会话系统消息的通知体系梳理12.事务会话通讯录可见范围13.高权限穿透发布会话操作逻辑14.发布会话默认创建群聊名称规则15.会话角色显示规则需求文档：  
左侧会话列表优化
[Hotfix]移动端会话列表未读消息交互优化:  移动端app双击底部tab会话图标，会话列表跳转到下一条未读会话，以此类推，直到最后一条未读会话；此时再次双击回跳到第一条未读会话；未读会话定义：1.有未读消息且未开启消息免打扰的会话；2.有人@我的会话；
放开任务完成后会话限制: （改在第21周迭代中做，逻辑有变）目标：目前任务完成后（创建人审阅通过后），会关闭会话，现在需要放开任务的会话功能，不再受到任务状态影响。影响范围：三端功能说明：1. 当任务状态变为“已完成”时，不再关闭会话，仅在会话中通知“MM-DD HH:MM 角色 用户 完成了任务”或“MM-DD HH:MM 角色 用户 通过了任务审阅，任务完成”，注意角色显示规则。  
会话聊天记录搜索: 会话聊天记录搜索左侧侧边栏搜索全部范围搜索范围文字对话资金备注物资名称、备注文件名图片名投票主题、介绍视频通话主题搜索后显示相关会话中有多少记录点击相关会话进入在会话中搜索相关关键字的界面会话内搜索提供全部、文字、资金、物资、视频邀请、文件、图片、投票、时间选项，默认为全部选项；点击某项快捷搜索后，搜索框内显示“搜索XX”；下方默认为最近此选项的相关记录；搜索范围和左边侧边栏一致；---------191022增加：搜索会话内容时，分享的卡片也要能搜出来，命中的字段是卡片上显示出来的内容；
会话分类优化: 会话分类优化：新版会话分类使用现象：1、未读会话排序在时间上易造成误解2、任务会话中出现两种卡片类型夹杂，不够美观 3、发布会话中未读部分不易区分是否在此分类下，处理完后飞走会有一些误解 一些考虑优化修复的点：1、全部会话中分为两部分：置顶会话区域与普通会话区域，每个区域内按照会话的时间排序，不区分未读和已读；2、分类会话中分为三部分：其他会话区域为该分类以外的未读会话，按照时间排序显示最新的3条，处理完毕后移除，如果没有该分类以外的未读会话，此区域不显示；置顶会话区域与普通会话区域与其他会话区域做明显区分，这两个区域中按照会话的时间排序，不区分未读和已读 
新增语音消息类型: 一、语音消息目前盟客世界语音分享产生语音消息，主系统的会话中需要显示长按消息会话没有操作列表，不能进行转发、撤回和删除推送消息卡片，阿里云推送，左侧会话列表lastMessage显示类似于图片，详见文档 语音消息显示web端和移动端的显示播放时的显示 时长可以不显示，点击会播放。长摁无操作 二、微信mac版的设计图 点击播放时，中间的icon会有音波变化动画。三、当前已经有的设计图：web端富文本的语音，移动端的语音播放。    语音长度在1"-60"
【编辑中】任务与会话改进工作: 第一阶段会话列表页新增功能，快速区分来自事务、目标、发布、任务，并可快速进入会话来布置任务（因为我知道有这样一组人可供我选择），先尝试用三行显示的解决办法；任务待办列表页，在任务卡片上新增功能：直接发起任务会话、直接编辑任务，点击卡片主体区域进去是任务会话；任务卡片上能看到创建人，且可筛选；单聊快速创建任务的交互优化（无需填写任务标题）；任务会话中建任务，能追溯【？？】；任务会话详情页区别于其他会话的展示；第二阶段诚信圈（通讯录）新增企业通讯录，便于在诚信圈找到相应的人，建任务；角色卡片上创建任务；新增任务认领功能；群聊快速创建任务的交互优化（用@指定负责人，没@就是需要认领的任务，无需填写任务标题）；任务待办列表要能按负责人分类（我创建的任务），看到一个角色身上有多少任务，首先看到他进行中的任务，左右滑看到已完成的任务和未开始的任务，上下滑看到不同负责人的任务；任务状态以及计时逻辑完善（待认领、未开始、审阅中等）；第三阶段会话中发出任务，撤销后重新编辑再发出，需要和原来位置产生关联；会话中发出的任务，要能和上下文关联后形成卷宗；其他需要思考的任务拒绝功能；（N？）去掉协作者但保留群聊功能；（N）任务中发起服务；（Y）通过会话引导新用户使用所有模块；（Y）  -------------任务置顶
